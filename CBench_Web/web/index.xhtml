<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pa="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pp="http://java.sun.com/jsf/passthrough">
    <h:head>
        <title>QA Evaluator - Carleton</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="author" content="colorlib.com"/>
        <link href="https://fonts.googleapis.com/css?family=Lato:400,600,700" rel="stylesheet" />
        <link href="css/main.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>

        <style type="text/css">

            .disabled:disabled{
                background-color:#ddd !important;
                font-size: 10px !important;
            }

            .inputfile {
                width: 0.1px;
                height: 0.1px;
                opacity: 0;
                overflow: hidden;
                position: absolute;
                z-index: -1;
            }

            .inputfile + label {
                font-size: 0.75em;
                padding: 11px;
                font-weight: 700;
                color: white;
                background-color: black;
                display: inline-block;
            }

            .inputfile:focus + label,
            .inputfile + label:hover {
                background-color: red;
            }

            .inputfile + label {
                cursor: pointer; /* "hand" cursor */
            }

            .inputfile:focus + label {
                outline: 1px dotted #000;
                outline: -webkit-focus-ring-color auto 5px;
            }

            .js .inputfile {
                width: 0.1px;
                height: 0.1px;
                opacity: 0;
                overflow: hidden;
                position: absolute;
                z-index: -1;
            }

            .no-js .inputfile + label {
                display: none;
            }
        </style>

    </h:head>
    <h:body>
        <div class="s009">
            <div style="width: 100%; display: inline-block;">
                <img src="images/6.png" height="100px;"/>

                <h1 style="display: inline; margin: 20px">Question Answering over Knowledge Graphs Benchmarking.</h1>
                <hr/>
            </div>
            <h:form>
                <div class="inner-form"   style="display: inline-block; width: 40%;
                     vertical-align: top; margin-right: 2%;">
                    <h2><span>Benchmark Analysis</span></h2>


                    <div class="advance-search">

                        <div class="row">
                            <div class="input-field">
                                <div class="input-select">
                                    <h:selectOneListbox value="#{mainBean.benchmark}"  pa:placeholder="Benchmark">
                                        <f:selectItems value = "#{mainBean.benchmarks}" var="c"
                                                       itemValue="#{c}" itemLabel="#{c}"/>
                                    </h:selectOneListbox>
                                </div>
                            </div>
                            <span style="font-size: 20px;"> OR </span>
                            <div class="input-field">
                                <div class="input-select">
                                    <input type="file" name="file" id="file" class="inputfile" />
                                    <label for="file"><i class="fa fa-upload"  aria-hidden="true"></i>
                                        Upload a benchmark.</label>
                                </div>
                            </div>
                            <div class="input-field">
                                <div class="result-count">

                                </div>
                                <div class="group-btn">
                                    <h:commandButton class="btn-search" value="Analyze"
                                                     action="#{mainBean.analysis()}"/>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="inner-form"  style="display: inline-block; width: 55%;">
                    <div class="basic-search">
                        <div class="input-field">

                            <h2><span>QA System Evaluation</span></h2>
                            <h:inputText id="search" pa:type="text" pa:placeholder="Type QA System URL"
                                         style="border-color: #DDDDDD; border-style: solid;
                                         border-width: 1px; margin: 5px; width: 98.5%"/>
                            <div class="icon-wrap">
                                <svg class="svg-inline--fa fa-search fa-w-16" fill="#ccc" aria-hidden="true" data-prefix="fas" data-icon="url" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                    <path d=" 128-128 128z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="advance-search" style="margin: 5px;">
                        <span class="desc" >Evaluation Configuration</span>
                        <div class="row">
                            <div>
                                <div class="input-select">
                                    <h:selectOneListbox value="#{mainBean.eval_knowledgebase}"  pa:placeholder="Knowledgebase">
                                        <f:selectItems value = "#{mainBean.knowledgebases}" var="c"
                                                       itemValue="#{c}" itemLabel="#{c}"/>

                                    </h:selectOneListbox>
                                </div>
                            </div>
                        </div>
                        <div class="row second">
                            <div class="input-field">
                                <div class="input-select">
                                    <h:selectOneListbox value="#{mainBean.eval_benchmark}"  pa:placeholder="Benchmark">
                                        <f:selectItems value = "#{mainBean.benchmarks}" var="c"
                                                       itemValue="#{c}" itemLabel="#{c}"/>
                                    </h:selectOneListbox>
                                </div> 
                            </div>
                            <span style="font-size: 20px;"> OR </span>
                            <div class="desc">
                                <h:selectBooleanCheckbox value="#{mainBean.eval_Properties_defined}">
                                    <p:ajax event="change" update="properties" process="@this"/>
                                </h:selectBooleanCheckbox> Properties Defined.
                            </div>
                            <div class="card">
                                <p:commandButton id="btn" type="button" icon="pi pi-external-link" onclick="PF('dlg').show();"/>
                            </div>
                            <span style="font-size: 20px;"> OR </span>
                            <div class="input-field">
                                <div class="input-select">
                                    <input type="file" name="file" id="file" class="inputfile" />
                                    <label for="file">Upload a benchmark.</label>
                                </div>
                            </div>
                            
                            

                            <p:dialog id="gmapDialog" widgetVar="dlg" width="625" height="500" modal="true">
                                <h:panelGroup id="properties" class="row second">
                                    <div class="desc" id="prop" style="width: 80%;">
                                        <span style="font-size: 20px;">
                                            What properties you would like to include?<br/><br/>
                                        </span>
                                        <div style="width: 35%; display: inline-block;
                                             vertical-align: top;">
                                            <span style="font-size: 16px;">NLQ Type</span>
                                            <hr/>
                                            <h:selectManyCheckbox value="#{mainBean.propertiesNLQTypes}"
                                                                  layout="pageDirection" style="display: inline-block;">
                                                <f:selectItems value="#{mainBean.propertiesNLQTypesValues}"/>
                                            </h:selectManyCheckbox> 
                                        </div>
                                        <div style="width: 55%; display: inline-block;
                                             vertical-align: top;">
                                            <span style="font-size: 16px;">Query</span><br/>
                                            <hr/>
                                            <div style="width: 48%; display: inline-block;
                                                 vertical-align: top;">
                                                Triple Patterns
                                                <hr/>
                                                <h:panelGrid columns="1" style="margin-bottom: 10px">
                                                    <h:outputText id="displayRange" value="Between #{mainBean.number8} and #{mainBean.number9}"/>
                                                    <p:slider for="txt6,txt7" display="displayRange" style="width: 100px" range="true"
                                                              minValue="0" maxValue="20"
                                                              displayTemplate="Between {min} and {max}"/>
                                                </h:panelGrid>
                                                <h:inputHidden id="txt6" value="#{mainBean.number8}"/>
                                                <h:inputHidden id="txt7" value="#{mainBean.number9}"/>
                                            </div>
                                            <div style="width: 48%; display: inline-block;
                                                 vertical-align: top;">
                                                Query Shape
                                                <hr/>
                                                <h:selectManyCheckbox value="#{mainBean.propertiesQueryShapes}"
                                                                      layout="pageDirection" style="display: inline-block;">
                                                    <f:selectItems value="#{mainBean.propertiesQueryShapesValues}"/>
                                                </h:selectManyCheckbox>
                                            </div>
                                        </div>

                                    </div>
                                </h:panelGroup>
                            </p:dialog>
                        </div>
                        <div class="row second">
                            <div class="desc" id="updateAns">
                                <h:selectBooleanCheckbox value="#{mainBean.eval_update_answers}">
                                    <p:ajax event="change" update="delete" process="@this"/>
                                </h:selectBooleanCheckbox> Update Answers from a SPARQL endpoint. 

                                <h:inputText id="delete" class="disabled" pa:type="text" pa:placeholder="What SPARQL URL your QA system is using?"
                                             value="#{mainBean.eval_SPARQL_URL}"
                                             disabled="#{not mainBean.eval_update_answers}"
                                             style="border-color: #DDDDDD; border-style: solid;
                                             border-width: 0.5px; margin: 2px; width: 98.5%;
                                             padding: 10px;" 
                                             />


                            </div>
                            <div class="desc">
                                <h:outputText id="output" value="Set F1-Global threshold to #{mainBean.eval_thresould}"/>
                                <h:inputHidden id="txt2"/>
                                <p:slider for="txt2" display="output" step="1" maxValue="10" style="width: 200px" displayTemplate="Set F1-Global threshold to 0.{value}"/>

                            </div>
                        </div>

                        <div class="row third">
                            <div class="input-field">
                                <div class="result-count">

                                </div>
                                <div class="group-btn">                                    
                                    <h:commandButton class="btn-search" value="Evaluate"
                                                     action="#{mainBean.evaluate()}"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </h:form>
        </div>
        <script src="js/extention/choices.js"></script>
        <script type="text/javascript">
                                    /* <![CDATA[ */
                                    const customSelects = document.querySelectorAll("select");
                                            const deleteBtn = document.getElementById('delete')
                                            const choices = new Choices('select',
                                            {
                                            searchEnabled: false,
                                                    itemSelectText: '',
                                                    removeItemButton: true,
                                            });
                                            deleteBtn.addEventListener("click", function (e)
                                            {
                                                e.preventDefault();
                                                        const deleteAll = document.querySelectorAll('.choices__button')
                                                        for (let i = 0; i < deleteAll.length;
                                                        i++
                                                                );
                                                {
                                                    deleteAll[i].click();
                                                }
                                            });

                                    /* ]]> */
        </script>
    </h:body>

</html>


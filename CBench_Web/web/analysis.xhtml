<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pa="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>QA Evaluator - Carleton</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="author" content="colorlib.com"/>
        <link href="https://fonts.googleapis.com/css?family=Lato:400,600,700" rel="stylesheet" />
        <link href="css/main.css" rel="stylesheet" />

        <style type="text/css">
            .qtype {
                background-color: #e1e1ee !important;
                background-image: none !important;
                color: #000000 !important;
            }
            .qkys
            {
                background-color: #f3d3da !important;
                background-image: none !important;
                color: #000000 !important;
            }
            .white
            {
                background-color: #ffffff !important;
                background-image: none !important;
                color: #000000 !important;
            }
        </style>

    </h:head>
    <h:body>
        <div class="s009">

            <div class="inner-form">
                <div class="inner-form">

                    <div>
                        <h1>
                            <img src="images/CarletonLogo.png" width="40%" style="max-width: 200px;"/>
                        Question Answering Systems Deep Evaluator
                        </h1>

                    </div>


                    <h2>This analysis is for 
                        <span style="font-weight: bold; color: #00BCD4">#{mainBean.benchmark}</span>
                        that has
                        <span style="font-weight: bold; color: #00BCD4">#{keywords.qs.size()}</span> 
                        queries.
                    </h2>
                    <p:tabView>
                        <p:tab title="Shallow Analysis">

                            <p:accordionPanel>
                                <p:tab title="Keywords Analysis">
                                    <div>
                                        <p:dataTable var="keyword" value="#{keywords.kws}" style="width: 30%; min-width: 250px; 
                                                     font-size: 14px; display: inline-block;"
                                                     rowStyleClass="#{keyword.key eq 'select' or 
                                                                      keyword.key eq 'ask' or
                                                                      keyword.key eq 'describe' or
                                                                      keyword.key eq 'construct' 
                                                                      ? 'qtype' : 
                                                                      keyword.key eq 'distinct' or 
                                                                      keyword.key eq 'limit' or
                                                                      keyword.key eq 'offset' or
                                                                      keyword.key eq 'orderBy' 
                                                                      ? 'qkys' :
                                                                      null}">
                                            <p:column headerText="Keyword">
                                                <h:outputText value="#{keyword.key}"  style="font-family: monospace;"/>
                                            </p:column>

                                            <p:column headerText="#Absolute">
                                                <h:outputText value="#{keyword.occuurances}"   style="font-size: 12px;"/>
                                            </p:column>
                                            <p:column headerText="%Relative">
                                                <h:outputText value="#{keyword.relative}"  style="font-size: 12px;">
                                                    <f:convertNumber pattern="#00.00" />
                                                </h:outputText>%
                                            </p:column>
                                        </p:dataTable>
                                        <div style="display: inline-block; vertical-align: top;">
                                            <p:chart type="pie" model="#{keywords.pieModelSelect_Ask}" 
                                                     style="width:300px; height:250px;
                                                     display: inline-block; font-family: monospace;" />
                                            
                                            <p:chart type="line" model="#{keywords.model}"  
                                                     style="width:300px; height:250px;
                                                     display: inline-block; font-family: monospace;"/>
                                            <br/>
                                            <p:chart type="line" model="#{keywords.model2}"  
                                                     style="width:600px; height:300px;
                                                     display: inline-block; font-family: monospace;"/>
                                        </div>
                                    </div>
                                </p:tab>
                            </p:accordionPanel>

                            <p:accordionPanel>
                                <p:tab title="Number of Triples Analysis">
                                    <div>
                                        <div style="display: inline-block; vertical-align: top;">
                                            
                                            <p:chart type="line" model="#{noOfTriples.model2}"  
                                                     style="width:450px; height:300px;
                                                     display: inline-block; 
                                                     font-family: monospace;"/>
                                        </div>
                                        <div style="display: inline-block; vertical-align: top;">
                                            
                                            <p:chart type="line" model="#{noOfTriples.modelNLQ}"  
                                                     style="width:450px; height:300px;
                                                     display: inline-block; 
                                                     font-family: monospace;"/>
                                        </div>
                                    </div>
                                </p:tab>
                            </p:accordionPanel>
                            
                            <p:accordionPanel>
                                <p:tab title="Operator Distribution">
                                    <div>
                                        <p:dataTable var="distribution" value="#{operatorDistribution.distributions}" style="width: 30%; min-width: 250px; 
                                                     font-size: 14px; display: inline-block;"
                                                     rowStyleClass="#{distribution.key eq 'CPF' or 
                                                                      distribution.key eq 'CPF + O' or
                                                                      distribution.key eq 'CPF + U' or
                                                                      distribution.key eq 'CPF + G'
                                                                      ? 'qtype' :
                                                                      'white'}">
                                            <p:column headerText="distribution">
                                                <h:outputText value="#{distribution.key}"  style="font-family: monospace;"/>
                                            </p:column>

                                            <p:column headerText="#Absolute">
                                                #{distribution.key eq 'CPF + O' or
                                                    distribution.key eq 'CPF + U' or
                                                    distribution.key eq 'CPF + G'
                                                    ? '+' :
                                                    null}
                                                <h:outputText value="#{distribution.occuurances}"   style="font-size: 12px;"/>
                                            </p:column>
                                            <p:column headerText="%Relative">
                                                #{distribution.key eq 'CPF + O' or
                                                    distribution.key eq 'CPF + U' or
                                                    distribution.key eq 'CPF + G'
                                                    ? '+' :
                                                    null}
                                                <h:outputText value="#{distribution.relative}"  style="font-size: 12px;">
                                                    <f:convertNumber pattern="#00.00" />
                                                </h:outputText>%
                                            </p:column>
                                        </p:dataTable>
                                        <div style="display: inline-block; vertical-align: top;">
                                            
                                        </div>
                                    </div>
                                </p:tab>
                            </p:accordionPanel>
                            
                        </p:tab>
                        <p:tab title="Shape Analysis">
                            <h2>This analysis is for <span style="font-weight: bold; color: #00BCD4">#{mainBean.benchmark}</span></h2>
                            <div>
                                <p:tab title="Single-Edge">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.singleShape_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                <p:tab title="Chain">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.chain_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                <p:tab title="Chain-Set">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.chainSet_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                <p:tab title="Tree">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.tree_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                <p:tab title="Star">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.star_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                <p:tab title="Forest">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.forest_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                <p:tab title="Cyle">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.cycle_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                <p:tab title="Flower">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.flower_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                <p:tab title="Flower-Set">
                                    <p:dataTable var="qs" value="#{categorizedQuestions.flowerSet_Qs}">
                                        <p:column headerText="Question">
                                            <h:outputText value="#{qs.questionString}" />
                                        </p:column>

                                        <p:column headerText="Query">
                                            <h:outputText value="#{qs.questionQuery}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                                
                            </div>
                        </p:tab>
                    </p:tabView>

                    <hr/>
                    <p  class="row third" style="color: gray;">
                        <img src="images/CarletonLogo.png" width="40%" style="max-width: 200px; float: next;"/>
                        <div>
                        Developed at Data Science Institute, Carleton University, Canada<br/>
                        Copyright 2020 by Carleton Data Science Institute
                        </div>
                    </p>
                </div>
            </div>
        </div>
        <script src="js/extention/choices.js"></script>
        <script type="text/javascript">
            /* <![CDATA[ */
            const customSelects = document.querySelectorAll("select");
                    const deleteBtn = document.getElementById('delete')
                    const choices = new Choices('select',
                    {
                    searchEnabled: false,
                            itemSelectText: '',
                            removeItemButton: true,
                    });
                    deleteBtn.addEventListener("click", function (e)
                    {
                        e.preventDefault();
                                const deleteAll = document.querySelectorAll('.choices__button')
                                for (let i = 0; i < deleteAll.length;
                                i++
                                        );
                        {
                            deleteAll[i].click();
                        }
                    });

            /* ]]> */
        </script>
    </h:body>

</html>

